<MyScreenManager>:

GridLayout:
    cols: 1
    BoxLayout:
        size_hint_y: None
        height: app.button_height
        Button:
            size_hint_y: None
            height: app.button_height
            text: "CAM"
            on_release: manager.current = 'camera_control_ui'
        Button:
            size_hint_y: None
            height: app.button_height
            text: "POS"
            on_release: manager.current = 'posisition_control_ui'
        Button:
            size_hint_y: None
            height: app.button_height
            text: "COL"
            on_release: manager.current = 'color_control_ui'
    MyScreenManager:
        id: manager
    Button:
        size_hint_y: None
        height: app.button_height
        text: "Quit"
        on_release: app.shutdown()

<CameraControl>:
    orientation: 'horizontal'
    size_hint_y: None
    height: app.button_height
    step: 1
    Label:
        halign: 'left'
        size_hint_y: None
        height: app.button_height
        text: root.text
        size_hint_x: None
        width: '90dp'
    Slider:
        size_hint_y: None
        height: app.button_height
        min: root.min_value
        max: root.max_value
        step: root.step
        value: root.value
        on_value: root.value = self.value

<CameraControls>:
    name: 'camera_control_ui'
    capture: app.capture
    GridLayout:
        cols: 1
        Label:
            text: "Camera Control"
            size_hint_y: None
            height: app.button_height
        CameraControl:
            id: focus
            text: "Focus"
            min_value: 0
            max_value: 255
            value: 120
        CameraControl:
            id: brightness
            text: "Brightness"
            min_value: 0
            max_value: 255
            value: 120
        CameraControl:
            id: contrast
            text: "Contrast"
            min_value: 0
            max_value: 255
            value: 120
        CameraControl:
            id: white_balance
            text: "White Bal"
            min_value: 0
            max_value: 20000
            step: 100
            value: 120
        CameraControl:
            id: sharpness
            text: "Sharpness"
            min_value: 0
            max_value: 255
            value: 120
        BoxLayout:


<PositionControl>:
    name: 'posisition_control_ui'
    GridLayout:
        cols: 1
        Button:
            size_hint_y: None
            height: app.button_height
            id: find_centre
            text: "Select Center"
            on_release: root.select_centre()
        Button:
            size_hint_y: None
            height: app.button_height
            id: find_encoder
            text: "Select Encoder Point"
            on_release: root.select_encoder()
        Label:
            size_hint_y: None
            height: app.label_height
            text: "Encoder Threshold"
        Slider:
            size_hint_y: None
            min: 0
            max: 255 * 6
            value: 150
            height: app.button_height
            on_value: root.encoder_threshold(self.value)
        Label:
            size_hint_y: None
            height: app.label_height
            text: "Encoder Null Zone"
        Slider:
            size_hint_y: None
            min: 1
            max: 256
            value: 50
            height: app.button_height
            on_value: root.encoder_null_zone(self.value)
        Button:
            size_hint_y: None
            height: app.button_height
            id: find_roi
            text: "Select Region of Interest"
            on_release: root.select_roi()

<ColorControls>:
    name: 'color_control_ui'
    GridLayout:
        cols: 1
        ToggleButton:
            size_hint_y: None
            height: app.button_height
            text: "Show Mask"
            on_release: root.toggle_mask(self.state)
        BoxLayout:
            orientation: 'vertical'
            Label:
                size_hint_y: None
                height: app.label_height
                text: "Color Dark"
            ColorPicker:
                id: dark_color
        BoxLayout:
            orientation: 'vertical'
            Label:
                size_hint_y: None
                height: app.label_height
                text: "Color Light"
            ColorPicker:
                id: light_color